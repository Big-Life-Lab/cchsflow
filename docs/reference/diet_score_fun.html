<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Diet score — diet_score_fun • cchsflow</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Diet score — diet_score_fun" />
<meta property="og:description" content="This function creates a derived diet variable (diet_score)
 based on consumption of fruit, salad, potatoes, carrots, other vegetables
 and juice. 2 baseline points plus summation of total points for diet
 attributes. Negative overall scores are recoded to 0, resulting in a range
 from 0 to 10.

1 point per daily fruit and vegetable consumption, excluding fruit 
  juice (maximum 8 points).
-2 points for high potato intake (&amp;gt;=7 (males),
   &amp;gt;=5 (females) times/week)
-2 points for no carrot intake
-2 points per daily frequency of fruit juice consumption greater than 
  once/day (maximum -10 points)

" />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cchsflow</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.8.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/get_started.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/variables_sheet.html">variables.csv sheet</a>
    </li>
    <li>
      <a href="../articles/variable_details.html">variable_details.csv sheet</a>
    </li>
    <li>
      <a href="../articles/derived_variables.html">Derived variables</a>
    </li>
    <li>
      <a href="../articles/how_to_add_variables.html">How to add variables</a>
    </li>
    <li>
      <a href="../articles/tagged_na_usage.html">How to use tagged_na</a>
    </li>
    <li>
      <a href="../articles/duplicate_datasets.html">CCHS datasets that overlap each other</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Big-Life-Lab/cchsflow">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Diet score</h1>
    <small class="dont-index">Source: <a href='https://github.com/Big-Life-Lab/cchsflow/blob/master/R/diet.R'><code>R/diet.R</code></a></small>
    <div class="hidden name"><code>diet_score_fun.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function creates a derived diet variable (diet_score)
 based on consumption of fruit, salad, potatoes, carrots, other vegetables
 and juice. 2 baseline points plus summation of total points for diet
 attributes. Negative overall scores are recoded to 0, resulting in a range
 from 0 to 10.</p>
<ul>
<li><p>1 point per daily fruit and vegetable consumption, excluding fruit 
  juice (maximum 8 points).</p></li>
<li><p>-2 points for high potato intake (&gt;=7 (males),
   &gt;=5 (females) times/week)</p></li>
<li><p>-2 points for no carrot intake</p></li>
<li><p>-2 points per daily frequency of fruit juice consumption greater than 
  once/day (maximum -10 points)</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>diet_score_fun</span>(<span class='no'>FVCDFRU</span>, <span class='no'>FVCDSAL</span>, <span class='no'>FVCDPOT</span>, <span class='no'>FVCDCAR</span>, <span class='no'>FVCDVEG</span>, <span class='no'>FVCDJUI</span>, <span class='no'>DHH_SEX</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>FVCDFRU</th>
      <td><p>daily consumption of fruit</p></td>
    </tr>
    <tr>
      <th>FVCDSAL</th>
      <td><p>daily consumption of green salad</p></td>
    </tr>
    <tr>
      <th>FVCDPOT</th>
      <td><p>daily consumption of potatoes</p></td>
    </tr>
    <tr>
      <th>FVCDCAR</th>
      <td><p>daily consumption of carrots</p></td>
    </tr>
    <tr>
      <th>FVCDVEG</th>
      <td><p>daily consumption of other vegetables</p></td>
    </tr>
    <tr>
      <th>FVCDJUI</th>
      <td><p>daily consumption of fruit juice</p></td>
    </tr>
    <tr>
      <th>DHH_SEX</th>
      <td><p>sex; 1 = male, 2 = female</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>While diet score can be calculated for all survey respondents, in
 the 2005 CCHS survey cycle, fruit and vegetable consumption was an optional
 section in which certain provinces had opted in to be asked to respondents.
 In this survey cycle, fruit and vegetable consumption was asked to
 respondents in British Columbia, Ontario, Alberta, and Prince Edward Island.
 As such, diet score has a large number of missing respondents for this 
 cycle.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Using the 'diet_score_fun' function to create the derived diet variable  </span>
<span class='co'># across CCHS cycles.</span>
<span class='co'># diet_score_fun() is specified in the variable_details.csv</span>

<span class='co'># To create a harmonized diet_score variable across CCHS cycles, use </span>
<span class='co'># rec_with_table() for each CCHS cycle and specify diet_score_fun and the</span>
<span class='co'># required base variables.</span>
<span class='co'># Using merge_rec_data(), you can combine smoke_simple across cycles</span>

<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>cchsflow</span>)

<span class='no'>diet_score2009_2010</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='rec_with_table.html'>rec_with_table</a></span>(
  <span class='no'>cchs2009_2010_p</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(
    <span class='st'>"FVCDFRU"</span>, <span class='st'>"FVCDSAL"</span>, <span class='st'>"FVCDPOT"</span>, <span class='st'>"FVCDCAR"</span>, <span class='st'>"FVCDVEG"</span>, <span class='st'>"FVCDJUI"</span>,
    <span class='st'>"DHH_SEX"</span>, <span class='st'>"diet_score_fun"</span>
  )
)</div><div class='output co'>#&gt; <span class='message'>No variable_details detected.</span>
#&gt; <span class='message'>              Loading cchsflow variable_details</span></div><div class='output co'>#&gt; <span class='message'>Using the passed data variable name as database_name</span></div><div class='output co'>#&gt; <span class='warning'>Warning: diet_score_fun is missing from variable details therefore cannot be recoded</span></div><div class='output co'>#&gt; <span class='message'>NOTE for FVCDCAR: Don't know (999.7) and refusal (999.8) not included in 2001 CCHS</span></div><div class='output co'>#&gt; <span class='message'>NOTE for FVCDFRU: Don't know (999.7) and refusal (999.8) not included in 2001 CCHS</span></div><div class='output co'>#&gt; <span class='message'>NOTE for FVCDJUI: Don't know (999.7) and refusal (999.8) not included in 2001 CCHS</span></div><div class='output co'>#&gt; <span class='message'>NOTE for FVCDPOT: Don't know (999.7) and refusal (999.8) not included in 2001 CCHS</span></div><div class='output co'>#&gt; <span class='message'>NOTE for FVCDSAL: Don't know (999.7) and refusal (999.8) not included in 2001 CCHS</span></div><div class='output co'>#&gt; <span class='message'>NOTE for FVCDVEG: Don't know (999.7) and refusal (999.8) not included in 2001 CCHS</span></div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>diet_score2009_2010</span>)</div><div class='output co'>#&gt;   DHH_SEX FVCDCAR FVCDFRU FVCDJUI FVCDPOT FVCDSAL FVCDVEG
#&gt; 1       2     0.1     4.0     4.0     0.1     0.3       4
#&gt; 2       2     0.1     1.0     0.1     0.1     0.4       2
#&gt; 3       2     0.1     0.1     1.0     0.0     0.3       1
#&gt; 4       1      NA      NA      NA      NA      NA      NA
#&gt; 5       1     0.4     0.6     1.0     0.4     0.1       6
#&gt; 6       2     0.3     1.0     0.0     0.3     0.3       1</div><div class='input'>
<span class='no'>diet_score2011_2012</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='rec_with_table.html'>rec_with_table</a></span>(
  <span class='no'>cchs2011_2012_p</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(
    <span class='st'>"FVCDFRU"</span>, <span class='st'>"FVCDSAL"</span>, <span class='st'>"FVCDPOT"</span>, <span class='st'>"FVCDCAR"</span>, <span class='st'>"FVCDVEG"</span>, <span class='st'>"FVCDJUI"</span>,
    <span class='st'>"DHH_SEX"</span>, <span class='st'>"diet_score_fun"</span>
  )
)</div><div class='output co'>#&gt; <span class='message'>No variable_details detected.</span>
#&gt; <span class='message'>              Loading cchsflow variable_details</span></div><div class='output co'>#&gt; <span class='message'>Using the passed data variable name as database_name</span></div><div class='output co'>#&gt; <span class='warning'>Warning: diet_score_fun is missing from variable details therefore cannot be recoded</span></div><div class='output co'>#&gt; <span class='message'>NOTE for FVCDCAR: Don't know (999.7) and refusal (999.8) not included in 2001 CCHS</span></div><div class='output co'>#&gt; <span class='message'>NOTE for FVCDFRU: Don't know (999.7) and refusal (999.8) not included in 2001 CCHS</span></div><div class='output co'>#&gt; <span class='message'>NOTE for FVCDJUI: Don't know (999.7) and refusal (999.8) not included in 2001 CCHS</span></div><div class='output co'>#&gt; <span class='message'>NOTE for FVCDPOT: Don't know (999.7) and refusal (999.8) not included in 2001 CCHS</span></div><div class='output co'>#&gt; <span class='message'>NOTE for FVCDSAL: Don't know (999.7) and refusal (999.8) not included in 2001 CCHS</span></div><div class='output co'>#&gt; <span class='message'>NOTE for FVCDVEG: Don't know (999.7) and refusal (999.8) not included in 2001 CCHS</span></div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>tail</a></span>(<span class='no'>diet_score2011_2012</span>)</div><div class='output co'>#&gt;     DHH_SEX FVCDCAR FVCDFRU FVCDJUI FVCDPOT FVCDSAL FVCDVEG
#&gt; 195       1     0.1     1.0     0.1     0.1     1.0     1.0
#&gt; 196       1     0.0     0.4     0.7     0.3     0.0     0.4
#&gt; 197       1     0.1     0.1     1.0     0.6     0.3     0.7
#&gt; 198       2     0.1     1.0     0.3     0.1     0.4     0.4
#&gt; 199       1     1.0     1.0     0.1     1.0     0.3     1.0
#&gt; 200       2     0.3     2.0     0.0     0.6     0.4     4.0</div><div class='input'>
<span class='no'>combined_diet_score</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/warning.html'>suppressWarnings</a></span>(<span class='fu'><a href='merge_rec_data.html'>merge_rec_data</a></span>(<span class='no'>diet_score2009_2010</span>,
 <span class='no'>diet_score2011_2012</span>))

<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>combined_diet_score</span>)</div><div class='output co'>#&gt;   DHH_SEX FVCDCAR FVCDFRU FVCDJUI FVCDPOT FVCDSAL FVCDVEG
#&gt; 1       2     0.1     4.0     4.0     0.1     0.3       4
#&gt; 2       2     0.1     1.0     0.1     0.1     0.4       2
#&gt; 3       2     0.1     0.1     1.0     0.0     0.3       1
#&gt; 4       1      NA      NA      NA      NA      NA      NA
#&gt; 5       1     0.4     0.6     1.0     0.4     0.1       6
#&gt; 6       2     0.3     1.0     0.0     0.3     0.3       1</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>tail</a></span>(<span class='no'>combined_diet_score</span>)</div><div class='output co'>#&gt;     DHH_SEX FVCDCAR FVCDFRU FVCDJUI FVCDPOT FVCDSAL FVCDVEG
#&gt; 395       1     0.1     1.0     0.1     0.1     1.0     1.0
#&gt; 396       1     0.0     0.4     0.7     0.3     0.0     0.4
#&gt; 397       1     0.1     0.1     1.0     0.6     0.3     0.7
#&gt; 398       2     0.1     1.0     0.3     0.1     0.4     0.4
#&gt; 399       1     1.0     1.0     0.1     1.0     0.3     1.0
#&gt; 400       2     0.3     2.0     0.0     0.6     0.4     4.0</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Doug Manuel, Warsame Yusuf, Rostyslav Vyuha, Carol Bennett.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: 'a674c1edc7b44c4ee995ef4227708c57',
    indexName: 'cchsflow',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


