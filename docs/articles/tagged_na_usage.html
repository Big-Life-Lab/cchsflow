<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>missing data (tagged_na) • cchsflow</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="missing data (tagged_na)">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cchsflow</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/get_started.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/variables_sheet.html">variables.csv sheet</a>
    </li>
    <li>
      <a href="../articles/variable_details.html">variable_details.csv sheet</a>
    </li>
    <li>
      <a href="../articles/derived_variables.html">Derived variables</a>
    </li>
    <li>
      <a href="../articles/how_to_add_variables.html">How to add variables</a>
    </li>
    <li>
      <a href="../articles/tagged_na_usage.html">How to use tagged_na</a>
    </li>
    <li>
      <a href="../articles/duplicate_datasets.html">CCHS datasets that overlap each other</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Big-Life-Lab/cchsflow">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>missing data (tagged_na)</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Big-Life-Lab/cchsflow/blob/master/vignettes/tagged_na_usage.Rmd"><code>vignettes/tagged_na_usage.Rmd</code></a></small>
      <div class="hidden name"><code>tagged_na_usage.Rmd</code></div>

    </div>

    
    
<div id="missing-data-na-tagged_na" class="section level2">
<h2 class="hasAnchor">
<a href="#missing-data-na-tagged_na" class="anchor"></a>Missing data (<code>NA</code> –&gt; <code>tagged_na</code>)</h2>
<p>Base R supports only one type of NA (‘not available’) to represent missing values. The CCHS, however, has several types of missing data or incomplete category responses. <code>cchsflow</code> uses the <code>haven</code> package <a href="https://haven.tidyverse.org/reference/tagged_na.html"><code><a href="https://haven.tidyverse.org/reference/tagged_na.html">tagged_na()</a></code></a> to allow multiple missing data categories. <code><a href="https://haven.tidyverse.org/reference/tagged_na.html">tagged_na()</a></code> adds an addition character to the NA value, thereby allowing users to define additional missing data types. <code><a href="https://haven.tidyverse.org/reference/tagged_na.html">tagged_na()</a></code> applies only for numeric values, as character base values can use any string to represent NA or missing data.</p>
</div>
<div id="cchs-approach-to-coding-missing-data" class="section level2">
<h2 class="hasAnchor">
<a href="#cchs-approach-to-coding-missing-data" class="anchor"></a>CCHS approach to coding missing data</h2>
<p>CCHS category values can change across variables and survey cycles, but the most common values are:</p>
<table class="table">
<thead><tr class="header">
<th>CCHS category value</th>
<th>Label</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>6</td>
<td>not applicable</td>
</tr>
<tr class="even">
<td>7</td>
<td>don’t know</td>
</tr>
<tr class="odd">
<td>8</td>
<td>refusal</td>
</tr>
<tr class="even">
<td>9</td>
<td>not stated</td>
</tr>
</tbody>
</table>
<p><code>cchsflow</code> recodes the four CCHS category missing data categories values into two NA values that are commonly used for most studies. NA(a) = ‘not applicable’ and NA(b) = ‘missing’. Furthermore, variables may be entirely missing from a specific cycle, which results in ‘not asked’ missing data that is not included or coded in CCHS surveys, recoded to NA(a)</p>
<p><strong>Summary of <code>tagged_na</code> values and their corresponding CCHS category values.</strong></p>
<table class="table">
<thead><tr class="header">
<th>cchsflow <code>tagged_na</code>
</th>
<th>CCHS category value</th>
<th>Label</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>NA(a)</td>
<td>6</td>
<td>not applicable</td>
</tr>
<tr class="even">
<td>NA(b)</td>
<td>7</td>
<td>don’t know</td>
</tr>
<tr class="odd">
<td>NA(b)</td>
<td>8</td>
<td>refusal</td>
</tr>
<tr class="even">
<td>NA(b)</td>
<td>9</td>
<td>not stated</td>
</tr>
<tr class="odd">
<td>NA(c)</td>
<td></td>
<td>question not asked in the survey cycle</td>
</tr>
</tbody>
</table>
</div>
<div id="example-haventagged_na" class="section level2">
<h2 class="hasAnchor">
<a href="#example-haventagged_na" class="anchor"></a>Example <code>haven::tagged_na()</code>
</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(haven)</span>
<span id="cb1-2"><a href="#cb1-2"></a>x &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="kw"><a href="https://haven.tidyverse.org/reference/tagged_na.html">tagged_na</a></span>(<span class="st">"a"</span>), <span class="kw"><a href="https://haven.tidyverse.org/reference/tagged_na.html">tagged_na</a></span>(<span class="st">"b"</span>))</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co"># Is used to read the tagged NA in most other functions they are still viewed as NA</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="kw"><a href="https://haven.tidyverse.org/reference/tagged_na.html">na_tag</a></span>(x)</span></code></pre></div>
<pre><code>## [1] NA  NA  NA  NA  NA  "a" "b"</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Is used to print the na as well as their tag</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="kw"><a href="https://haven.tidyverse.org/reference/tagged_na.html">print_tagged_na</a></span>(x)</span></code></pre></div>
<pre><code>## [1]     1     2     3     4     5 NA(a) NA(b)</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Tagged NA's work identically to regular NAs</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>x</span></code></pre></div>
<pre><code>## [1]  1  2  3  4  5 NA NA</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(x)</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE</code></pre>
</div>
<div id="using-tagged_na-for-creating-derived-variables" class="section level2">
<h2 class="hasAnchor">
<a href="#using-tagged_na-for-creating-derived-variables" class="anchor"></a>Using tagged_na for creating derived variables</h2>
<p>See the <a href="derived_variables.html">derived variables</a> and <a href="how_to_add_variables.html">how to add variables</a> for details on derived variables and how to add them.</p>
<p>When creating derived variables from CCHS variables, it is important to distinguish the different NA values. Certain derived variables include the use of variables that may not be applicable to respondents. For example, <a href="https://big-life-lab.github.io/cchsflow/reference/pack_years_fun.html">smoking pack-years</a> involves the use of smoking variables that may not be applicable to all CCHS respondents (i.e. non-smokers who have never smoked). In this scenario, respondents who had values of <code>NA(a)</code> for the various base smoking variables would have a value of <code>NA(a)</code> for smoking pack-years. Respondents who had identified as having smoked at one point in their lives, but had values of <code>NA(b)</code> in the base smoking variables would have a value of <code>NA(b)</code> for smoking pack-years as pack-years cannot be calculated due to missing values.</p>
<p>On the other hand, there are certain derived variables that use variables that are applicable to all respondents. For example, <a href="https://big-life-lab.github.io/cchsflow/reference/bmi_fun.html">BMI</a> uses CCHS height and weight variables which are asked to all CCHS respondents. In this scenario, all NA variables would be tagged as <code>NA(b)</code> as these variables are applicable to everyone, and respondents with NA values would be classified as missing.</p>
<p>When creating deriving variables, it is important to examine the base CCHS variables to check for the presence of <code>NA(a)</code> and <code>NA(b)</code>. This can be done by reviewing the <a href="https://osf.io/g6d84/">CCHS documentation</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#missing-data-na-tagged_na">Missing data (<code>NA</code> –&gt; <code>tagged_na</code>)</a></li>
      <li><a href="#cchs-approach-to-coding-missing-data">CCHS approach to coding missing data</a></li>
      <li><a href="#example-haventagged_na">Example <code>haven::tagged_na()</code></a></li>
      <li><a href="#using-tagged_na-for-creating-derived-variables">Using tagged_na for creating derived variables</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Doug Manuel, Warsame Yusuf, Rostyslav Vyuha, Carol Bennett.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'a674c1edc7b44c4ee995ef4227708c57',
    indexName: 'cchsflow',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
