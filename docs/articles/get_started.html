<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get started • cchsflow</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Get started">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cchsflow</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.5.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/get_started.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/variables_sheet.html">variables.csv sheet</a>
    </li>
    <li>
      <a href="../articles/variable_details.html">variable_details.csv sheet</a>
    </li>
    <li>
      <a href="../articles/derived_variables.html">Derived variables</a>
    </li>
    <li>
      <a href="../articles/how_to_add_variables.html">How to add variables</a>
    </li>
    <li>
      <a href="../articles/tagged_na_usage.html">How to use tagged_na</a>
    </li>
    <li>
      <a href="../articles/duplicate_datasets.html">CCHS datasets that overlap each other</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Big-Life-Lab/cchsflow">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="get_started_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Get started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Big-Life-Lab/cchsflow/blob/master/vignettes/get_started.Rmd"><code>vignettes/get_started.Rmd</code></a></small>
      <div class="hidden name"><code>get_started.Rmd</code></div>

    </div>

    
    
<div id="load-packages" class="section level3">
<h3 class="hasAnchor">
<a href="#load-packages" class="anchor"></a>Load packages</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Install release version from CRAN</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"cchsflow"</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co"># Install the most recent version from GitHub</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>devtools<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html">install_github</a></span>(<span class="st">"Big-Life-Lab/cchsflow"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(cchsflow)</span></code></pre></div>
<p>The vignettes use the <code>bind_rows</code> function in the <a href="https://www.rdocumentation.org/packages/dplyr/versions/0.7.8">dplyr</a> package to combine datasets.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</span></code></pre></div>
</div>
<div id="transform-variables-into-harmonized-versions" class="section level1">
<h1 class="hasAnchor">
<a href="#transform-variables-into-harmonized-versions" class="anchor"></a>Transform variables into harmonized versions</h1>
<p>Use <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code> to transform the variables of a CCHS dataset.</p>
<div id="example-1--transform-a-single-variable-from-a-single-database" class="section level2">
<h2 class="hasAnchor">
<a href="#example-1--transform-a-single-variable-from-a-single-database" class="anchor"></a>Example 1. Transform a single variable from a single database</h2>
<p>In this example, the <code>sex</code> variable in the 2001 CCHS cycle is transformed into a harmonized <code>sex</code> variable that is consistent all CCHS cycles.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>sex2001 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2001_p, <span class="st">"DHH_SEX"</span>,</span>
<span id="cb4-2"><a href="#cb4-2"></a>  <span class="dt">log =</span> <span class="ot">TRUE</span>,</span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="dt">var_labels =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dt">DHH_SEX =</span> <span class="st">"SEX"</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a>)</span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">#&gt; The variable DHHA_SEX was recoded into DHH_SEX for the database cchs2001_p the following recodes were made:</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">#&gt;   value_to From rows_recoded</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">#&gt; 1        1    1           79</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co">#&gt; 2        2    2          121</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co">#&gt; 3    NA::a    6            0</span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co">#&gt; 4    NA::b  7:9            0</span></span></code></pre></div>
<pre><code>#&gt;   DHH_SEX
#&gt; 1       2
#&gt; 2       2
#&gt; 3       1
#&gt; 4       2
#&gt; 5       2
#&gt; 6       1</code></pre>
<p><code>cchs2001_p</code> is the name of test CCHS data that is included in the <em>cchsflow</em> library. <em>cchsflow</em> includes test CCHS data for the public use microdata file (PUMF) for all general household survey (.1 versions) between 2001 and 2013. Each survey cycle has a sample of 200 respondents. <code>cchs2000_p</code> indicates this isthe CCHS 2001 PUMF file. See <a href="../reference/index.html">Reference</a> for more information of each CCHS cycle.</p>
<p>You’ll want to use <em>cchsflow</em> on your own CCHS data that you’ll need to first load: something like <code>cchs2001 &lt;- read.csv("~/data/cchs2001.csv")</code>. CCHS PUMF data can be obtained from Statistics Canada.</p>
<p><code>DHH_SEX</code> is the name of the harmonized variable for sex. Up to 2007, the variable names in CCHS changed every cycle. Since 2007, there has <em>generally</em> been a consistent name. <em>cchsflow</em> uses the variable name from the 2007 cycle whenever possible. For example, in the CCHS 2001, the variable for sex is <code>DHHA_SEX</code> and in CCHS 2007 the same variable is <code>DHH_SEX</code>. This name, <code>DHH_SEX</code> is the harmonized name for sex, meaning <code>DHHA_SEX</code> is transformed to <code>DHH_SEX</code> using <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code>.</p>
<p>The rules for the transformation and harmonization are in two dataframes that are included in <code>variables</code> and <code>variable_details</code>, both included in <em>cchsflow</em>. There are vignettes that further describe <code>variables</code> and <code>variable_details</code>, including how to add or customize transformed variables.</p>
</div>
<div id="which-variables-are-transformed-how-good-is-the-transformation" class="section level2">
<h2 class="hasAnchor">
<a href="#which-variables-are-transformed-how-good-is-the-transformation" class="anchor"></a>Which variables are transformed? How “good” is the transformation?</h2>
<p><em>cchsflow</em> includes commonly used sociodemographic, health behaviour and health status variables. In general, variables across CCHS cycles can be grouped into five categories:</p>
<ol style="list-style-type: decimal">
<li><p>Consistent and unchanged across all cycles. These variables have no changes to the wording of the question that was asked, the response values and who was asked the question (same inclusion criteria and skip pattern).</p></li>
<li><p>Mostly consistent across cycles. These variables may have a small change in wording or response category. Notes for these variables are printed to the console when they are recoded with <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code>. The notes are contained in <code>variable_details$notes</code>. Caution is required when using these variables. The notes should be reviewed to assess whether these variables can be used in your study. See <a href="#example2">Example 2</a>.</p></li>
<li><p>Either not collected in all cycles or have major changes between cycles. These variable may be included in <em>cchsflow</em> with a note that says which cycles include the variable and can be transformed to a common variable. See <a href="#example4">Example 4</a>.</p></li>
<li><p>Mostly consistent but with complex changes or transformation rules. See the <a href="../reference/index.html">Reference</a> for these derived and “Potentially problematic variables”. See <a href="#example7">Example 7</a>.</p></li>
<li><p>Not consistent between cycles. Variable that are inconsistent or not asked in most cycles are not included in <em>cchsflow</em>. In the future, we hope to include these variables with an marker that they’ve been reviewed but rejected from inclusion in <em>cchsflow</em>.</p></li>
</ol>
</div>
<div id="example2" class="section level2">
<h2 class="hasAnchor">
<a href="#example2" class="anchor"></a>Example 2. Variable transformation with a note</h2>
<p><code>notes</code> provide context for the decisions that informed harmonization that may affect your decision to use a harmonized variable.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw"><a href="https://rdrr.io/r/base/warning.html">warning</a></span>(</span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="st">"cchsflow includes "</span>, <span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/unique.html">unique</a></span>(variable_details<span class="op">$</span>notes)),</span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="st">" variables with notes."</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>)</span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">#&gt; Warning: cchsflow includes 44 variables with notes.</span></span></code></pre></div>
<p>For example, for <code>DHHGAGE_A</code> the category <code>NA::b</code> has the following <code>note</code>:</p>
<p><code>Not applicable, don't know, refusal, not stated (96-99) were options only in CCHS 2003, but had zero responses</code>.</p>
<p>This note informs the decision to combine values 96 to 99 in <code>DHHGAGE_A</code> for CCHS2003 into one common missing value <code>NA::b</code>. The label for the <code>NA::b</code> category is, “<code>don't know (97); refusal (98); not stated (99)</code>”.</p>
<p>By default, <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code> prints notes to the console.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>BMI2001 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2001_p, <span class="st">"HWTGBMI"</span>, <span class="dt">log =</span> <span class="ot">TRUE</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co"> for HWTGBMI: CCHS 2001 restricts BMI to ages 20-64. Consider using using HWTGBMI_der for the most concistent BMI variable across all CCHS cycles. See documentation for BMI_fun() in derived variables for more details, or type ?BMI_fun in the console.</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co"> for HWTGBMI: CCHS 2001 and 2003 codes not applicable and missing variables as 999.6 and 999.7-999.9 respectively, while CCHS 2005 onwards codes not applicable and missing variables as 999.96 and 999.7-999.99 respectively</span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co"> for HWTGBMI: Don't know (999.7) and refusal (999.8) not included in 2001 CCHS</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">#&gt; The variable HWTAGBMI was recoded into HWTGBMI for the database cchs2001_p the following recodes were made:</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co">#&gt;   value_to        From rows_recoded</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">#&gt; 1     copy  11.91:57.9          142</span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="co">#&gt; 2    NA::a       999.6           58</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="co">#&gt; 3    NA::b 999.7:999.9            0</span></span></code></pre></div>
<div id="notes-with-guidance-or-additional-information" class="section level3">
<h3 class="hasAnchor">
<a href="#notes-with-guidance-or-additional-information" class="anchor"></a>Notes with guidance or additional information</h3>
<p>Several variables such as BMI have a quite a few notes reflecting a range of changes that occurred over CCHS cycles. Variables with notes can usually be used after reviewing and considering whether or how the variable changes affect your use. There can also be further guidance in notes. For example, BMI notes include advice to use <code>HWTGBMI_der</code>. Despite the large number of changes, BMI can be used for most studies because the common transformed variable <code>HWTGBMI_der</code> was derived from height and weight variables that are included and largely unchanged across CCHS cycles. However, to use <code>HWTGBMI_der</code> you’ll also need to include the transformed measures for height (<code>HWTGHTM</code>) and weight (<code>HWTGWTK</code>). More information about <code>HWTGBMI_der</code> can be found in the documentation reference for ‘derived variable functions’ or by typing <code>?BMI_fun</code> in the R console.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>BMI2001C &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2001_p,</span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"HWTGHTM"</span>, <span class="st">"HWTGWTK"</span>, <span class="st">"HWTGBMI_der"</span>),</span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="dt">log =</span> <span class="ot">TRUE</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>)</span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co"> for HWTGHTM: 2001 and 2003 CCHS use inches, values converted to meters to 3 decimal points</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co"> for HWTGHTM: 74+ inches converted to 76 inches</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co">#&gt; The variable HWTAGHT was recoded into HWTGHTM for the database cchs2001_p the following recodes were made:</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">#&gt;    value_to From rows_recoded</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">#&gt; 1     1.118    1            0</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co">#&gt; 2     1.143    2            0</span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="co">#&gt; 3     1.168    3            0</span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co">#&gt; 4     1.194    4            0</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co">#&gt; 5     1.219    5            0</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co">#&gt; 6     1.245    6            0</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co">#&gt; 7     1.270    7            0</span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="co">#&gt; 8     1.295    8            0</span></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="co">#&gt; 9     1.321    9            0</span></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="co">#&gt; 10    1.346   10            0</span></span>
<span id="cb8-21"><a href="#cb8-21"></a><span class="co">#&gt; 11    1.372   11            0</span></span>
<span id="cb8-22"><a href="#cb8-22"></a><span class="co">#&gt; 12    1.397   12            0</span></span>
<span id="cb8-23"><a href="#cb8-23"></a><span class="co">#&gt; 13    1.422   13            1</span></span>
<span id="cb8-24"><a href="#cb8-24"></a><span class="co">#&gt; 14    1.448   14            0</span></span>
<span id="cb8-25"><a href="#cb8-25"></a><span class="co">#&gt; 15    1.473   15            1</span></span>
<span id="cb8-26"><a href="#cb8-26"></a><span class="co">#&gt; 16    1.499   16            2</span></span>
<span id="cb8-27"><a href="#cb8-27"></a><span class="co">#&gt; 17    1.524   17            8</span></span>
<span id="cb8-28"><a href="#cb8-28"></a><span class="co">#&gt; 18    1.549   18            7</span></span>
<span id="cb8-29"><a href="#cb8-29"></a><span class="co">#&gt; 19    1.575   19           21</span></span>
<span id="cb8-30"><a href="#cb8-30"></a><span class="co">#&gt; 20    1.600   20           12</span></span>
<span id="cb8-31"><a href="#cb8-31"></a><span class="co">#&gt; 21    1.626   21           13</span></span>
<span id="cb8-32"><a href="#cb8-32"></a><span class="co">#&gt; 22    1.651   22           19</span></span>
<span id="cb8-33"><a href="#cb8-33"></a><span class="co">#&gt; 23    1.676   23           16</span></span>
<span id="cb8-34"><a href="#cb8-34"></a><span class="co">#&gt; 24    1.702   24           21</span></span>
<span id="cb8-35"><a href="#cb8-35"></a><span class="co">#&gt; 25    1.727   25           16</span></span>
<span id="cb8-36"><a href="#cb8-36"></a><span class="co">#&gt; 26    1.753   26           11</span></span>
<span id="cb8-37"><a href="#cb8-37"></a><span class="co">#&gt; 27    1.778   27           13</span></span>
<span id="cb8-38"><a href="#cb8-38"></a><span class="co">#&gt; 28    1.803   28           14</span></span>
<span id="cb8-39"><a href="#cb8-39"></a><span class="co">#&gt; 29    1.829   29           10</span></span>
<span id="cb8-40"><a href="#cb8-40"></a><span class="co">#&gt; 30    1.854   30            8</span></span>
<span id="cb8-41"><a href="#cb8-41"></a><span class="co">#&gt; 31     1.93   31            6</span></span>
<span id="cb8-42"><a href="#cb8-42"></a><span class="co">#&gt; 32    NA::a   96            0</span></span>
<span id="cb8-43"><a href="#cb8-43"></a><span class="co">#&gt; 33    NA::b   99            1</span></span>
<span id="cb8-44"><a href="#cb8-44"></a><span class="co">#&gt; The variable HWTAGWTK was recoded into HWTGWTK for the database cchs2001_p the following recodes were made:</span></span>
<span id="cb8-45"><a href="#cb8-45"></a><span class="co">#&gt;   value_to          From rows_recoded</span></span>
<span id="cb8-46"><a href="#cb8-46"></a><span class="co">#&gt; 1     copy    27.0:135.0          199</span></span>
<span id="cb8-47"><a href="#cb8-47"></a><span class="co">#&gt; 2    NA::a        999.96            0</span></span>
<span id="cb8-48"><a href="#cb8-48"></a><span class="co">#&gt; 3    NA::b 999.97:999.99            1</span></span></code></pre></div>
</div>
<div id="warning-messages" class="section level3">
<h3 class="hasAnchor">
<a href="#warning-messages" class="anchor"></a>Warning messages</h3>
<p>Warning messages will appear when your dataset is missing variables in your <code>variables</code> worksheet or <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code> call.</p>
</div>
<div id="variable-names-and-labels-included" class="section level3">
<h3 class="hasAnchor">
<a href="#variable-names-and-labels-included" class="anchor"></a>Variable names and labels included</h3>
<p><code><a href="../reference/rec_with_table.html">rec_with_table()</a></code> can include variable and value labels for the harmonized variables using the <code>var_labels</code> attribute. By default, <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code> will include all labels if then all variables in <code>variables</code> are recoded. See <a href="#example6">Example 6</a>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>sex2001 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2001_p, <span class="st">"DHH_SEX"</span>,</span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="dt">log =</span> <span class="ot">TRUE</span>,</span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="dt">var_labels =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"DHH_SEX"</span> =<span class="st"> "Sex"</span>)</span>
<span id="cb9-4"><a href="#cb9-4"></a>)</span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co">#&gt; The variable DHHA_SEX was recoded into DHH_SEX for the database cchs2001_p the following recodes were made:</span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="co">#&gt;   value_to From rows_recoded</span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co">#&gt; 1        1    1           79</span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">#&gt; 2        2    2          121</span></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="co">#&gt; 3    NA::a    6            0</span></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="co">#&gt; 4    NA::b  7:9            0</span></span></code></pre></div>
<p>Labels can then be used in plots and tables.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="kw"><a href="https://rdrr.io/r/graphics/barplot.html">barplot</a></span>(</span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="kw"><a href="https://rdrr.io/r/base/table.html">table</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/tidyeval.html">as_label</a></span>(sex2001<span class="op">$</span>DHH_SEX)),</span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="dt">col =</span> <span class="kw"><a href="https://rdrr.io/r/grDevices/palettes.html">cm.colors</a></span>(<span class="dv">5</span>),</span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="dt">ylim =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>, <span class="dv">140</span>),</span>
<span id="cb10-6"><a href="#cb10-6"></a>  <span class="dt">legend =</span> <span class="ot">TRUE</span>,</span>
<span id="cb10-7"><a href="#cb10-7"></a>  <span class="dt">main =</span> <span class="kw">get_label</span>(sex2001<span class="op">$</span>DHH_SEX),</span>
<span id="cb10-8"><a href="#cb10-8"></a>  <span class="dt">ylab =</span> <span class="st">"Frequency (n)"</span></span>
<span id="cb10-9"><a href="#cb10-9"></a>)</span></code></pre></div>
<p><img src="get_started_files/figure-html/fig1-1.png" width="672"></p>
</div>
<div id="missing-data" class="section level3">
<h3 class="hasAnchor">
<a href="#missing-data" class="anchor"></a>Missing data</h3>
<p>If you’ve been watching, you may have noticed that <em>cchsflow</em> recodes the values in factor or categorical variables for 6 (“not applicable”), 7 (“don’t know”), and 8 (“refusal”), 9 (“not stated”) into <code>tagged_NA</code> values NA(a) (“not applicable”) and NA (b) (“missing”). There are two reasons. First, the typical uses of CCHS consider the two values “not applicable” and “missing” for most situations. Second, R and other open languages typically support only one NA.</p>
<p>Be careful when use use <code>NA</code> in your study. See <a href="../articles/tagged_na_usage.html"><code>missing data (tagged_na)</code></a>for more information.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(haven)</span>
<span id="cb11-2"><a href="#cb11-2"></a>x &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="kw"><a href="https://haven.tidyverse.org/reference/tagged_na.html">tagged_na</a></span>(<span class="st">"a"</span>), <span class="kw"><a href="https://haven.tidyverse.org/reference/tagged_na.html">tagged_na</a></span>(<span class="st">"b"</span>), <span class="kw"><a href="https://haven.tidyverse.org/reference/tagged_na.html">tagged_na</a></span>(<span class="st">"b"</span>), <span class="ot">NA</span>)</span>
<span id="cb11-3"><a href="#cb11-3"></a>x</span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">#&gt; [1]  1  2  3  4  5 NA NA NA NA</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co"># Do you want to calculate mean by excluding 'missing', 'not applicable', or both?</span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="kw"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="op">!</span><span class="kw"><a href="https://haven.tidyverse.org/reference/tagged_na.html">is_tagged_na</a></span>(x, <span class="st">"a"</span>))</span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co">#&gt; [1] 8</span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="kw"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="op">!</span><span class="kw"><a href="https://haven.tidyverse.org/reference/tagged_na.html">is_tagged_na</a></span>(x, <span class="st">"b"</span>))</span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="co">#&gt; [1] 7</span></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="kw"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(x))</span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="co">#&gt; [1] 5</span></span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="kw"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="op">!</span><span class="kw"><a href="https://haven.tidyverse.org/reference/tagged_na.html">is_tagged_na</a></span>(x))</span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="co">#&gt; [1] 6</span></span></code></pre></div>
</div>
<div id="default-arguments-for-rec_with_table" class="section level3">
<h3 class="hasAnchor">
<a href="#default-arguments-for-rec_with_table" class="anchor"></a>Default arguments for <code>rec_with_table()</code>
</h3>
<p>With <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code> there are also default arguments that do not need to be called unless you would like to modify them.</p>
<ul>
<li>
<code>variables</code> defaults to NULL. This results in the <code>variables.csv</code> sheet in the cchsflow package being used to specify which variables to transform. This argument can be modified if you want use your own <code>variables.csv</code> sheet or by specifying particular variables to transform.</li>
<li>
<code>database_name</code> defaults to NULL. This results in <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code> using the database indicated in the <code>data</code> argument.</li>
<li>
<code>variable_details</code> defaults to NULL. This results in the <code>variable_details.csv</code> sheet in the cchsflow being used. This argument can be modified if want use your own <code>variable_details.csv</code> sheet.</li>
<li>
<code>else_value</code> defaults to NA. Values out of range set to NA.</li>
<li>
<code>append_to_data</code> defaults to FALSE. Transformed variables will not be appended to the original CCHS dataset.</li>
<li>
<code>log</code> defaults to FALSE. Logs of the variable transformations will not be displayed.</li>
<li>
<code>notes</code> defaults to TRUE. Information in the <code>Notes</code> column from <code>variable_details.csv</code> will be displayed</li>
<li>
<code>var_labels</code> is set to NULL. This argument can be used to add labels to a transformed dataset that only contains a subset of variables from <code>variables.csv</code>. The format to add labels to a subset of variables is <code><a href="https://rdrr.io/r/base/c.html">c(variable = "Label")</a></code>.</li>
<li>
<code>attach_data_name</code> is set to FALSE. This argument can be used to append a column that denotes the name of the dataset each transformed row came from. See <a href="#example8">Example 8</a>.</li>
</ul>
</div>
</div>
<div id="example-3--transform-a-single-variable-from-multiple-cchs-datasets" class="section level2">
<h2 class="hasAnchor">
<a href="#example-3--transform-a-single-variable-from-multiple-cchs-datasets" class="anchor"></a>Example 3. Transform a single variable from multiple CCHS datasets</h2>
<p>This example shows how you can transform and combine a variable across multiple CCHS cycles. The sex variable in CCHS 2001 (<code>DHHA_SEX</code>) and CCHS 2012 (<code>DHH_SEX</code>) is transformed a common variable (<code>DHH_SEX</code>) and combined into a single dataset. In <em>cchsflow</em> the CCHS 2007 variable name is used as the common variable name. See the <a href="variable_details.html">variable_details vignette</a> for more information.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>sex2001 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2001_p, <span class="st">"DHH_SEX"</span>, <span class="dt">log =</span> <span class="ot">TRUE</span>)</span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">#&gt; The variable DHHA_SEX was recoded into DHH_SEX for the database cchs2001_p the following recodes were made:</span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co">#&gt;   value_to From rows_recoded</span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co">#&gt; 1        1    1           79</span></span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="co">#&gt; 2        2    2          121</span></span>
<span id="cb12-8"><a href="#cb12-8"></a><span class="co">#&gt; 3    NA::a    6            0</span></span>
<span id="cb12-9"><a href="#cb12-9"></a><span class="co">#&gt; 4    NA::b  7:9            0</span></span>
<span id="cb12-10"><a href="#cb12-10"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(sex2001)</span>
<span id="cb12-11"><a href="#cb12-11"></a><span class="co">#&gt;   DHH_SEX</span></span>
<span id="cb12-12"><a href="#cb12-12"></a><span class="co">#&gt; 1       2</span></span>
<span id="cb12-13"><a href="#cb12-13"></a><span class="co">#&gt; 2       2</span></span>
<span id="cb12-14"><a href="#cb12-14"></a><span class="co">#&gt; 3       1</span></span>
<span id="cb12-15"><a href="#cb12-15"></a><span class="co">#&gt; 4       2</span></span>
<span id="cb12-16"><a href="#cb12-16"></a><span class="co">#&gt; 5       2</span></span>
<span id="cb12-17"><a href="#cb12-17"></a><span class="co">#&gt; 6       1</span></span>
<span id="cb12-18"><a href="#cb12-18"></a></span>
<span id="cb12-19"><a href="#cb12-19"></a>sex2012 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2012_p, <span class="st">"DHH_SEX"</span>, <span class="dt">log =</span> <span class="ot">TRUE</span>)</span>
<span id="cb12-20"><a href="#cb12-20"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb12-21"><a href="#cb12-21"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb12-22"><a href="#cb12-22"></a><span class="co">#&gt; The variable DHH_SEX was recoded into DHH_SEX for the database cchs2012_p the following recodes were made:</span></span>
<span id="cb12-23"><a href="#cb12-23"></a><span class="co">#&gt;   value_to From rows_recoded</span></span>
<span id="cb12-24"><a href="#cb12-24"></a><span class="co">#&gt; 1        1    1           78</span></span>
<span id="cb12-25"><a href="#cb12-25"></a><span class="co">#&gt; 2        2    2          122</span></span>
<span id="cb12-26"><a href="#cb12-26"></a><span class="co">#&gt; 3    NA::a    6            0</span></span>
<span id="cb12-27"><a href="#cb12-27"></a><span class="co">#&gt; 4    NA::b  7:9            0</span></span>
<span id="cb12-28"><a href="#cb12-28"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>(sex2012)</span>
<span id="cb12-29"><a href="#cb12-29"></a><span class="co">#&gt;     DHH_SEX</span></span>
<span id="cb12-30"><a href="#cb12-30"></a><span class="co">#&gt; 195       1</span></span>
<span id="cb12-31"><a href="#cb12-31"></a><span class="co">#&gt; 196       2</span></span>
<span id="cb12-32"><a href="#cb12-32"></a><span class="co">#&gt; 197       1</span></span>
<span id="cb12-33"><a href="#cb12-33"></a><span class="co">#&gt; 198       2</span></span>
<span id="cb12-34"><a href="#cb12-34"></a><span class="co">#&gt; 199       1</span></span>
<span id="cb12-35"><a href="#cb12-35"></a><span class="co">#&gt; 200       1</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>combined_sex &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(sex2001, sex2012)</span></code></pre></div>
<pre><code>#&gt;   DHH_SEX
#&gt; 1       2
#&gt; 2       2
#&gt; 3       1
#&gt; 4       2
#&gt; 5       2
#&gt; 6       1
#&gt;     DHH_SEX
#&gt; 395       1
#&gt; 396       2
#&gt; 397       1
#&gt; 398       2
#&gt; 399       1
#&gt; 400       1</code></pre>
</div>
<div id="example4" class="section level2">
<h2 class="hasAnchor">
<a href="#example4" class="anchor"></a>Example 4. Transform a single variable from multiple databases that changes categories between cycles.</h2>
<p>There are many variables in the CCHS that changes in categories between cycles in a way that the variable cannot preserve all categories for all CCHS cycles. An example is the categorical variable for <code>age</code>. <em>cchsflow</em> offers three options to facilitate the use of these variables with inconsistent categories across cycles.</p>
<div id="option-1-transform-category-age-variable-into-a-common-variable-for-only-cycles-with-the-same-category-responses" class="section level3">
<h3 class="hasAnchor">
<a href="#option-1-transform-category-age-variable-into-a-common-variable-for-only-cycles-with-the-same-category-responses" class="anchor"></a>Option 1: transform category <code>age</code> variable into a common variable for only cycles with the same category responses</h3>
<p>Transform the <code>age</code> variable into variables that cannot be combined across cycles. The categories in <code>age</code> variable in the CCHS changed in 2005 and therefore it is not possible to have the same <code>age</code> categories across all CCHS cycles.</p>
<p><code>DHHGAGE_A</code> is the age variable for CCHS cycles 2001-2003, and <code>DHHGAGE_B</code> is the age variable for CCHS cycles 2005-2014.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>age2001 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2001_p, <span class="st">"DHHGAGE_A"</span>)</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co"> for DHHGAGE_A: Not applicable, don't know, refusal, not stated (96-99) were options only in CCHS 2003, but had zero responses</span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(age2001)</span>
<span id="cb15-6"><a href="#cb15-6"></a><span class="co">#&gt;   DHHGAGE_A</span></span>
<span id="cb15-7"><a href="#cb15-7"></a><span class="co">#&gt; 1        15</span></span>
<span id="cb15-8"><a href="#cb15-8"></a><span class="co">#&gt; 2        15</span></span>
<span id="cb15-9"><a href="#cb15-9"></a><span class="co">#&gt; 3         5</span></span>
<span id="cb15-10"><a href="#cb15-10"></a><span class="co">#&gt; 4        14</span></span>
<span id="cb15-11"><a href="#cb15-11"></a><span class="co">#&gt; 5         3</span></span>
<span id="cb15-12"><a href="#cb15-12"></a><span class="co">#&gt; 6        14</span></span>
<span id="cb15-13"><a href="#cb15-13"></a></span>
<span id="cb15-14"><a href="#cb15-14"></a>age2012 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2012_p, <span class="st">"DHHGAGE_B"</span>)</span>
<span id="cb15-15"><a href="#cb15-15"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb15-16"><a href="#cb15-16"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb15-17"><a href="#cb15-17"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>(age2012)</span>
<span id="cb15-18"><a href="#cb15-18"></a><span class="co">#&gt;     DHHGAGE_B</span></span>
<span id="cb15-19"><a href="#cb15-19"></a><span class="co">#&gt; 195         8</span></span>
<span id="cb15-20"><a href="#cb15-20"></a><span class="co">#&gt; 196        11</span></span>
<span id="cb15-21"><a href="#cb15-21"></a><span class="co">#&gt; 197         6</span></span>
<span id="cb15-22"><a href="#cb15-22"></a><span class="co">#&gt; 198        15</span></span>
<span id="cb15-23"><a href="#cb15-23"></a><span class="co">#&gt; 199         9</span></span>
<span id="cb15-24"><a href="#cb15-24"></a><span class="co">#&gt; 200        16</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>combined_age_cat &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(age2001, age2012)</span></code></pre></div>
<pre><code>#&gt;   DHHGAGE_A DHHGAGE_B
#&gt; 1        15      &lt;NA&gt;
#&gt; 2        15      &lt;NA&gt;
#&gt; 3         5      &lt;NA&gt;
#&gt; 4        14      &lt;NA&gt;
#&gt; 5         3      &lt;NA&gt;
#&gt; 6        14      &lt;NA&gt;
#&gt;     DHHGAGE_A DHHGAGE_B
#&gt; 395      &lt;NA&gt;         8
#&gt; 396      &lt;NA&gt;        11
#&gt; 397      &lt;NA&gt;         6
#&gt; 398      &lt;NA&gt;        15
#&gt; 399      &lt;NA&gt;         9
#&gt; 400      &lt;NA&gt;        16</code></pre>
</div>
<div id="option-2-transform-the-categorical-age-variable-into-a-continuous-age_cont-variable" class="section level3">
<h3 class="hasAnchor">
<a href="#option-2-transform-the-categorical-age-variable-into-a-continuous-age_cont-variable" class="anchor"></a>Option 2: transform the categorical <code>age</code> variable into a continuous <code>age_cont</code> variable</h3>
<p>Transform categorical variables such as <code>age</code> into a single harmonized <code>age_cont</code> variable. This variable takes the midpoint age of each category for all CCHS cycles. With this option, the age category variable from all CCHS cycles can be combined into a single dataset.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>age2001_cont &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2001_p, <span class="st">"DHHGAGE_cont"</span>)</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co"> for DHHGAGE_cont: Not applicable, don't know, refusal, not stated (96-99) were options in CCHS 2003, but had zero responses</span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(age2001_cont)</span>
<span id="cb18-6"><a href="#cb18-6"></a><span class="co">#&gt;   DHHGAGE_cont</span></span>
<span id="cb18-7"><a href="#cb18-7"></a><span class="co">#&gt; 1           85</span></span>
<span id="cb18-8"><a href="#cb18-8"></a><span class="co">#&gt; 2           85</span></span>
<span id="cb18-9"><a href="#cb18-9"></a><span class="co">#&gt; 3           32</span></span>
<span id="cb18-10"><a href="#cb18-10"></a><span class="co">#&gt; 4           77</span></span>
<span id="cb18-11"><a href="#cb18-11"></a><span class="co">#&gt; 5           22</span></span>
<span id="cb18-12"><a href="#cb18-12"></a><span class="co">#&gt; 6           77</span></span>
<span id="cb18-13"><a href="#cb18-13"></a></span>
<span id="cb18-14"><a href="#cb18-14"></a>age2012_cont &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2012_p, <span class="st">"DHHGAGE_cont"</span>)</span>
<span id="cb18-15"><a href="#cb18-15"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb18-16"><a href="#cb18-16"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb18-17"><a href="#cb18-17"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>(age2012_cont)</span>
<span id="cb18-18"><a href="#cb18-18"></a><span class="co">#&gt;     DHHGAGE_cont</span></span>
<span id="cb18-19"><a href="#cb18-19"></a><span class="co">#&gt; 195           42</span></span>
<span id="cb18-20"><a href="#cb18-20"></a><span class="co">#&gt; 196           57</span></span>
<span id="cb18-21"><a href="#cb18-21"></a><span class="co">#&gt; 197           32</span></span>
<span id="cb18-22"><a href="#cb18-22"></a><span class="co">#&gt; 198           77</span></span>
<span id="cb18-23"><a href="#cb18-23"></a><span class="co">#&gt; 199           47</span></span>
<span id="cb18-24"><a href="#cb18-24"></a><span class="co">#&gt; 200           85</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>combined_age_cont &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(age2001_cont, age2012_cont)</span></code></pre></div>
<pre><code>#&gt;   DHHGAGE_cont
#&gt; 1           85
#&gt; 2           85
#&gt; 3           32
#&gt; 4           77
#&gt; 5           22
#&gt; 6           77
#&gt;     DHHGAGE_cont
#&gt; 395           42
#&gt; 396           57
#&gt; 397           32
#&gt; 398           77
#&gt; 399           47
#&gt; 400           85</code></pre>
</div>
<div id="option-3-transform-the-categorical-age-variable-into-a-harmonized-categorical-variable" class="section level3">
<h3 class="hasAnchor">
<a href="#option-3-transform-the-categorical-age-variable-into-a-harmonized-categorical-variable" class="anchor"></a>Option 3: transform the categorical <code>age</code> variable into a harmonized categorical variable</h3>
<p><em>cchsflow</em> often includes a common harmonized categorical variable that has new, consistent categories across all cycles. These new categorical variables generally have fewer category levels than the original variables, reflecting the need to combine categories. Read the <code>Notes</code> variable for details.</p>
</div>
<div id="label-variables-and-categories" class="section level3">
<h3 class="hasAnchor">
<a href="#label-variables-and-categories" class="anchor"></a>Label variables and categories</h3>
<p>Use <code><a href="../reference/set_data_labels.html">set_data_labels()</a></code> to label the variables in your final dataset. Labels are lost during the database merging. <code><a href="../reference/set_data_labels.html">set_data_labels()</a></code> set labels with the original information in <code>variables</code> and <code>variable_details</code>.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>labeled_combined_cchs &lt;-<span class="st"> </span><span class="kw"><a href="../reference/set_data_labels.html">set_data_labels</a></span>(</span>
<span id="cb21-2"><a href="#cb21-2"></a>  <span class="dt">data_to_label =</span> combined_age_cont,</span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="dt">variable_details =</span> variable_details,</span>
<span id="cb21-4"><a href="#cb21-4"></a>  <span class="dt">variables_sheet =</span> variables</span>
<span id="cb21-5"><a href="#cb21-5"></a>)</span></code></pre></div>
</div>
</div>
<div id="example-5--transform-multiple-variables-from-multiple-datasets" class="section level2">
<h2 class="hasAnchor">
<a href="#example-5--transform-multiple-variables-from-multiple-datasets" class="anchor"></a>Example 5. Transform multiple variables from multiple datasets</h2>
<p>The variables argument in <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code> allows multiple variables to be transformed from a CCHS dataset. In this example, the age and sex variables from the 2001 and 2012 CCHS datasets will be transformed and labeled using <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code>. They will then be combined into a single dataset and labeled using <code><a href="../reference/set_data_labels.html">set_data_labels()</a></code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>age_sex_<span class="dv">2001</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2001_p, <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"DHHGAGE_cont"</span>, <span class="st">"DHH_SEX"</span>),</span>
<span id="cb22-2"><a href="#cb22-2"></a>  <span class="dt">var_labels =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dt">DHHGAGE_cont =</span> <span class="st">"Age"</span>, <span class="dt">DHH_SEX =</span> <span class="st">"Sex"</span>)</span>
<span id="cb22-3"><a href="#cb22-3"></a>)</span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb22-5"><a href="#cb22-5"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb22-6"><a href="#cb22-6"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co"> for DHHGAGE_cont: Not applicable, don't know, refusal, not stated (96-99) were options in CCHS 2003, but had zero responses</span></span>
<span id="cb22-7"><a href="#cb22-7"></a></span>
<span id="cb22-8"><a href="#cb22-8"></a><span class="kw">get_label</span>(age_sex_<span class="dv">2001</span>)</span>
<span id="cb22-9"><a href="#cb22-9"></a><span class="co">#&gt;      DHH_SEX DHHGAGE_cont </span></span>
<span id="cb22-10"><a href="#cb22-10"></a><span class="co">#&gt;        "Sex"        "Age"</span></span>
<span id="cb22-11"><a href="#cb22-11"></a></span>
<span id="cb22-12"><a href="#cb22-12"></a>age_sex_<span class="dv">2012</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2012_p, <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"DHHGAGE_cont"</span>, <span class="st">"DHH_SEX"</span>),</span>
<span id="cb22-13"><a href="#cb22-13"></a>  <span class="dt">var_labels =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dt">DHHGAGE_cont =</span> <span class="st">"Age"</span>, <span class="dt">DHH_SEX =</span> <span class="st">"Sex"</span>)</span>
<span id="cb22-14"><a href="#cb22-14"></a>)</span>
<span id="cb22-15"><a href="#cb22-15"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb22-16"><a href="#cb22-16"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb22-17"><a href="#cb22-17"></a></span>
<span id="cb22-18"><a href="#cb22-18"></a><span class="kw">get_label</span>(age_sex_<span class="dv">2012</span>)</span>
<span id="cb22-19"><a href="#cb22-19"></a><span class="co">#&gt;      DHH_SEX DHHGAGE_cont </span></span>
<span id="cb22-20"><a href="#cb22-20"></a><span class="co">#&gt;        "Sex"        "Age"</span></span></code></pre></div>
<p>In the above example, <code>var_labels</code> is called in <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code> to label the age and sex variables in the 2001 and 2012 datasets. Use <code>get_label()</code> to view the variable labels in your transformed dataset. As mentioned previously, <code>var_labels</code> can be used all the variables in <code>variables.csv</code> or a subset of variables.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>combined_age_sex &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(age_sex_<span class="dv">2001</span>, age_sex_<span class="dv">2012</span>)</span>
<span id="cb23-2"><a href="#cb23-2"></a>labeled_combined_age_sex &lt;-<span class="st"> </span><span class="kw"><a href="../reference/set_data_labels.html">set_data_labels</a></span>(</span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="dt">data_to_label =</span> combined_age_sex,</span>
<span id="cb23-4"><a href="#cb23-4"></a>  <span class="dt">variable_details =</span> variable_details, <span class="dt">variables_sheet =</span> variables</span>
<span id="cb23-5"><a href="#cb23-5"></a>)</span></code></pre></div>
<p>In the above code, <code><a href="../reference/set_data_labels.html">set_data_labels()</a></code> is used to label the combined age and sex dataset. Similar to before, you can check if labels have been added using <code>get_label()</code>.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="kw">get_label</span>(labeled_combined_age_sex)</span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="co">#&gt;      DHH_SEX DHHGAGE_cont </span></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="co">#&gt;        "Sex"        "Age"</span></span></code></pre></div>
<p>For more information on <code>get_label()</code> and other label helper functions, please refer to the <a href="https://strengejacke.github.io/sjlabelled/reference/">sjlabelled</a> package.</p>
</div>
<div id="example6" class="section level2">
<h2 class="hasAnchor">
<a href="#example6" class="anchor"></a>Example 6. Transform all variables in the variable_details sheet</h2>
<p>All the variables listed in <code>variables.csv</code> &amp; <code>variable_details.csv</code> will be transformed if the variables argument in <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code> is not specified. In this example, all variables specified in the two worksheets will be transformed, combined, and labeled for the 2001 and 2012 CCHS cycles.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>transformed2001 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(<span class="dt">data =</span> cchs2001_p, <span class="dt">notes =</span> <span class="ot">FALSE</span>)</span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="co">#&gt; Loading cchsflow variables</span></span>
<span id="cb25-4"><a href="#cb25-4"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb25-5"><a href="#cb25-5"></a></span>
<span id="cb25-6"><a href="#cb25-6"></a>transformed2012 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(<span class="dt">data =</span> cchs2012_p, <span class="dt">notes =</span> <span class="ot">FALSE</span>)</span>
<span id="cb25-7"><a href="#cb25-7"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb25-8"><a href="#cb25-8"></a><span class="co">#&gt; Loading cchsflow variables</span></span>
<span id="cb25-9"><a href="#cb25-9"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb25-10"><a href="#cb25-10"></a></span>
<span id="cb25-11"><a href="#cb25-11"></a>combined_cchs &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(transformed2001, transformed2012)</span>
<span id="cb25-12"><a href="#cb25-12"></a>labeled_combined_cchs &lt;-<span class="st"> </span><span class="kw"><a href="../reference/set_data_labels.html">set_data_labels</a></span>(</span>
<span id="cb25-13"><a href="#cb25-13"></a>  <span class="dt">data_to_label =</span> combined_cchs,</span>
<span id="cb25-14"><a href="#cb25-14"></a>  <span class="dt">variable_details =</span> variable_details, <span class="dt">variables_sheet =</span> variables</span>
<span id="cb25-15"><a href="#cb25-15"></a>)</span></code></pre></div>
</div>
<div id="example7" class="section level2">
<h2 class="hasAnchor">
<a href="#example7" class="anchor"></a>Example 7. Transform CCHS derived variables such as Body Mass Index (BMI)</h2>
<p>CCHS derived variables are recoded (harmonized) using the same method as other CCHS <em>cchsflow</em> variables, with one additional considerations.</p>
<p>Derived variables in CCHS are created from existing, original variables that are transformed into a new variable. An example is body mass index (BMI). Respondents are asked to report their height and weight. BMI is then derived (calculated) using recoded variables for height and weight.</p>
<p>Recoding <code>BMI</code> into a harmonized variable requires their underlying initial variables (height and weight). This first step of harmonizing underlying variables is completed for you, but you must have the underlying variables in your dataset.</p>
<p>Using the BMI example illustrated in the <a href="derived_variables.html">derived variables</a> article, <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code> is able to transform BMI across multiple cycles provided that height (<code>HWTGHTM</code>) and weight (<code>HWTGWTK</code>) are specified.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>bmi2001 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2001_p, <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"HWTGHTM"</span>, <span class="st">"HWTGWTK"</span>, <span class="st">"HWTGBMI_der"</span>),</span>
<span id="cb26-2"><a href="#cb26-2"></a>  <span class="dt">log =</span> <span class="ot">TRUE</span></span>
<span id="cb26-3"><a href="#cb26-3"></a>)</span>
<span id="cb26-4"><a href="#cb26-4"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb26-5"><a href="#cb26-5"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb26-6"><a href="#cb26-6"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co"> for HWTGHTM: 2001 and 2003 CCHS use inches, values converted to meters to 3 decimal points</span></span>
<span id="cb26-7"><a href="#cb26-7"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co"> for HWTGHTM: 74+ inches converted to 76 inches</span></span>
<span id="cb26-8"><a href="#cb26-8"></a><span class="co">#&gt; The variable HWTAGHT was recoded into HWTGHTM for the database cchs2001_p the following recodes were made:</span></span>
<span id="cb26-9"><a href="#cb26-9"></a><span class="co">#&gt;    value_to From rows_recoded</span></span>
<span id="cb26-10"><a href="#cb26-10"></a><span class="co">#&gt; 1     1.118    1            0</span></span>
<span id="cb26-11"><a href="#cb26-11"></a><span class="co">#&gt; 2     1.143    2            0</span></span>
<span id="cb26-12"><a href="#cb26-12"></a><span class="co">#&gt; 3     1.168    3            0</span></span>
<span id="cb26-13"><a href="#cb26-13"></a><span class="co">#&gt; 4     1.194    4            0</span></span>
<span id="cb26-14"><a href="#cb26-14"></a><span class="co">#&gt; 5     1.219    5            0</span></span>
<span id="cb26-15"><a href="#cb26-15"></a><span class="co">#&gt; 6     1.245    6            0</span></span>
<span id="cb26-16"><a href="#cb26-16"></a><span class="co">#&gt; 7     1.270    7            0</span></span>
<span id="cb26-17"><a href="#cb26-17"></a><span class="co">#&gt; 8     1.295    8            0</span></span>
<span id="cb26-18"><a href="#cb26-18"></a><span class="co">#&gt; 9     1.321    9            0</span></span>
<span id="cb26-19"><a href="#cb26-19"></a><span class="co">#&gt; 10    1.346   10            0</span></span>
<span id="cb26-20"><a href="#cb26-20"></a><span class="co">#&gt; 11    1.372   11            0</span></span>
<span id="cb26-21"><a href="#cb26-21"></a><span class="co">#&gt; 12    1.397   12            0</span></span>
<span id="cb26-22"><a href="#cb26-22"></a><span class="co">#&gt; 13    1.422   13            1</span></span>
<span id="cb26-23"><a href="#cb26-23"></a><span class="co">#&gt; 14    1.448   14            0</span></span>
<span id="cb26-24"><a href="#cb26-24"></a><span class="co">#&gt; 15    1.473   15            1</span></span>
<span id="cb26-25"><a href="#cb26-25"></a><span class="co">#&gt; 16    1.499   16            2</span></span>
<span id="cb26-26"><a href="#cb26-26"></a><span class="co">#&gt; 17    1.524   17            8</span></span>
<span id="cb26-27"><a href="#cb26-27"></a><span class="co">#&gt; 18    1.549   18            7</span></span>
<span id="cb26-28"><a href="#cb26-28"></a><span class="co">#&gt; 19    1.575   19           21</span></span>
<span id="cb26-29"><a href="#cb26-29"></a><span class="co">#&gt; 20    1.600   20           12</span></span>
<span id="cb26-30"><a href="#cb26-30"></a><span class="co">#&gt; 21    1.626   21           13</span></span>
<span id="cb26-31"><a href="#cb26-31"></a><span class="co">#&gt; 22    1.651   22           19</span></span>
<span id="cb26-32"><a href="#cb26-32"></a><span class="co">#&gt; 23    1.676   23           16</span></span>
<span id="cb26-33"><a href="#cb26-33"></a><span class="co">#&gt; 24    1.702   24           21</span></span>
<span id="cb26-34"><a href="#cb26-34"></a><span class="co">#&gt; 25    1.727   25           16</span></span>
<span id="cb26-35"><a href="#cb26-35"></a><span class="co">#&gt; 26    1.753   26           11</span></span>
<span id="cb26-36"><a href="#cb26-36"></a><span class="co">#&gt; 27    1.778   27           13</span></span>
<span id="cb26-37"><a href="#cb26-37"></a><span class="co">#&gt; 28    1.803   28           14</span></span>
<span id="cb26-38"><a href="#cb26-38"></a><span class="co">#&gt; 29    1.829   29           10</span></span>
<span id="cb26-39"><a href="#cb26-39"></a><span class="co">#&gt; 30    1.854   30            8</span></span>
<span id="cb26-40"><a href="#cb26-40"></a><span class="co">#&gt; 31     1.93   31            6</span></span>
<span id="cb26-41"><a href="#cb26-41"></a><span class="co">#&gt; 32    NA::a   96            0</span></span>
<span id="cb26-42"><a href="#cb26-42"></a><span class="co">#&gt; 33    NA::b   99            1</span></span>
<span id="cb26-43"><a href="#cb26-43"></a><span class="co">#&gt; The variable HWTAGWTK was recoded into HWTGWTK for the database cchs2001_p the following recodes were made:</span></span>
<span id="cb26-44"><a href="#cb26-44"></a><span class="co">#&gt;   value_to          From rows_recoded</span></span>
<span id="cb26-45"><a href="#cb26-45"></a><span class="co">#&gt; 1     copy    27.0:135.0          199</span></span>
<span id="cb26-46"><a href="#cb26-46"></a><span class="co">#&gt; 2    NA::a        999.96            0</span></span>
<span id="cb26-47"><a href="#cb26-47"></a><span class="co">#&gt; 3    NA::b 999.97:999.99            1</span></span>
<span id="cb26-48"><a href="#cb26-48"></a></span>
<span id="cb26-49"><a href="#cb26-49"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(bmi2001)</span>
<span id="cb26-50"><a href="#cb26-50"></a><span class="co">#&gt;   HWTGHTM HWTGWTK HWTGBMI_der</span></span>
<span id="cb26-51"><a href="#cb26-51"></a><span class="co">#&gt; 1   1.422   56.25    27.81784</span></span>
<span id="cb26-52"><a href="#cb26-52"></a><span class="co">#&gt; 2   1.549   51.75    21.56788</span></span>
<span id="cb26-53"><a href="#cb26-53"></a><span class="co">#&gt; 3   1.803   78.75    24.22474</span></span>
<span id="cb26-54"><a href="#cb26-54"></a><span class="co">#&gt; 4   1.575   60.75    24.48980</span></span>
<span id="cb26-55"><a href="#cb26-55"></a><span class="co">#&gt; 5   1.727   63.00    21.12301</span></span>
<span id="cb26-56"><a href="#cb26-56"></a><span class="co">#&gt; 6   1.829   91.80    27.44197</span></span>
<span id="cb26-57"><a href="#cb26-57"></a></span>
<span id="cb26-58"><a href="#cb26-58"></a>bmi2012 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2012_p, <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"HWTGHTM"</span>, <span class="st">"HWTGWTK"</span>, <span class="st">"HWTGBMI_der"</span>),</span>
<span id="cb26-59"><a href="#cb26-59"></a>  <span class="dt">log =</span> <span class="ot">TRUE</span></span>
<span id="cb26-60"><a href="#cb26-60"></a>)</span>
<span id="cb26-61"><a href="#cb26-61"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb26-62"><a href="#cb26-62"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb26-63"><a href="#cb26-63"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co"> for HWTGHTM: Height is a reported in meters from 2005 CCHS onwards</span></span>
<span id="cb26-64"><a href="#cb26-64"></a><span class="co">#&gt; The variable HWTGHTM was recoded into HWTGHTM for the database cchs2012_p the following recodes were made:</span></span>
<span id="cb26-65"><a href="#cb26-65"></a><span class="co">#&gt;   value_to        From rows_recoded</span></span>
<span id="cb26-66"><a href="#cb26-66"></a><span class="co">#&gt; 1     copy 0.914:2.134          191</span></span>
<span id="cb26-67"><a href="#cb26-67"></a><span class="co">#&gt; 2    NA::a       9.996            2</span></span>
<span id="cb26-68"><a href="#cb26-68"></a><span class="co">#&gt; 3    NA::b 9.997:9.999            7</span></span>
<span id="cb26-69"><a href="#cb26-69"></a><span class="co">#&gt; The variable HWTGWTK was recoded into HWTGWTK for the database cchs2012_p the following recodes were made:</span></span>
<span id="cb26-70"><a href="#cb26-70"></a><span class="co">#&gt;   value_to          From rows_recoded</span></span>
<span id="cb26-71"><a href="#cb26-71"></a><span class="co">#&gt; 1     copy    27.0:135.0          189</span></span>
<span id="cb26-72"><a href="#cb26-72"></a><span class="co">#&gt; 2    NA::a        999.96            0</span></span>
<span id="cb26-73"><a href="#cb26-73"></a><span class="co">#&gt; 3    NA::b 999.97:999.99           11</span></span>
<span id="cb26-74"><a href="#cb26-74"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>(bmi2012)</span>
<span id="cb26-75"><a href="#cb26-75"></a><span class="co">#&gt;     HWTGHTM HWTGWTK HWTGBMI_der</span></span>
<span id="cb26-76"><a href="#cb26-76"></a><span class="co">#&gt; 195   1.829  108.00    32.28467</span></span>
<span id="cb26-77"><a href="#cb26-77"></a><span class="co">#&gt; 196   1.524   70.20    30.22506</span></span>
<span id="cb26-78"><a href="#cb26-78"></a><span class="co">#&gt; 197   1.803   84.00    25.83972</span></span>
<span id="cb26-79"><a href="#cb26-79"></a><span class="co">#&gt; 198   1.575   63.00    25.39683</span></span>
<span id="cb26-80"><a href="#cb26-80"></a><span class="co">#&gt; 199   1.829   85.50    25.55870</span></span>
<span id="cb26-81"><a href="#cb26-81"></a><span class="co">#&gt; 200   1.702   74.25    25.63170</span></span>
<span id="cb26-82"><a href="#cb26-82"></a></span>
<span id="cb26-83"><a href="#cb26-83"></a>combined_bmi &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(bmi2001, bmi2012)</span>
<span id="cb26-84"><a href="#cb26-84"></a></span>
<span id="cb26-85"><a href="#cb26-85"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(combined_bmi)</span>
<span id="cb26-86"><a href="#cb26-86"></a><span class="co">#&gt;   HWTGHTM HWTGWTK HWTGBMI_der</span></span>
<span id="cb26-87"><a href="#cb26-87"></a><span class="co">#&gt; 1   1.422   56.25    27.81784</span></span>
<span id="cb26-88"><a href="#cb26-88"></a><span class="co">#&gt; 2   1.549   51.75    21.56788</span></span>
<span id="cb26-89"><a href="#cb26-89"></a><span class="co">#&gt; 3   1.803   78.75    24.22474</span></span>
<span id="cb26-90"><a href="#cb26-90"></a><span class="co">#&gt; 4   1.575   60.75    24.48980</span></span>
<span id="cb26-91"><a href="#cb26-91"></a><span class="co">#&gt; 5   1.727   63.00    21.12301</span></span>
<span id="cb26-92"><a href="#cb26-92"></a><span class="co">#&gt; 6   1.829   91.80    27.44197</span></span>
<span id="cb26-93"><a href="#cb26-93"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>(combined_bmi)</span>
<span id="cb26-94"><a href="#cb26-94"></a><span class="co">#&gt;     HWTGHTM HWTGWTK HWTGBMI_der</span></span>
<span id="cb26-95"><a href="#cb26-95"></a><span class="co">#&gt; 395   1.829  108.00    32.28467</span></span>
<span id="cb26-96"><a href="#cb26-96"></a><span class="co">#&gt; 396   1.524   70.20    30.22506</span></span>
<span id="cb26-97"><a href="#cb26-97"></a><span class="co">#&gt; 397   1.803   84.00    25.83972</span></span>
<span id="cb26-98"><a href="#cb26-98"></a><span class="co">#&gt; 398   1.575   63.00    25.39683</span></span>
<span id="cb26-99"><a href="#cb26-99"></a><span class="co">#&gt; 399   1.829   85.50    25.55870</span></span>
<span id="cb26-100"><a href="#cb26-100"></a><span class="co">#&gt; 400   1.702   74.25    25.63170</span></span></code></pre></div>
</div>
<div id="example-8-distinguishing-which-cycle-data-is-from-in-combined-datasets" class="section level2">
<h2 class="hasAnchor">
<a href="#example-8-distinguishing-which-cycle-data-is-from-in-combined-datasets" class="anchor"></a>Example 8: Distinguishing which cycle data is from in combined datasets</h2>
<p>It can be important to know from which cycle data comes from after combining all the cycles. <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code> provides the option of appending a column that indicates from which dataset respondents come from by setting the parameter <code>attach_data_name</code> to be TRUE. Using the BMI example in <a href="#example7">Example 7</a>, <code><a href="../reference/rec_with_table.html">rec_with_table()</a></code> can specify which dataset each respondent came from.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>bmi2001 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2001_p, <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"HWTGHTM"</span>, <span class="st">"HWTGWTK"</span>, <span class="st">"HWTGBMI_der"</span>),</span>
<span id="cb27-2"><a href="#cb27-2"></a>  <span class="dt">log =</span> <span class="ot">TRUE</span>, <span class="dt">attach_data_name =</span> <span class="ot">TRUE</span></span>
<span id="cb27-3"><a href="#cb27-3"></a>)</span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb27-5"><a href="#cb27-5"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb27-6"><a href="#cb27-6"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co"> for HWTGHTM: 2001 and 2003 CCHS use inches, values converted to meters to 3 decimal points</span></span>
<span id="cb27-7"><a href="#cb27-7"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co"> for HWTGHTM: 74+ inches converted to 76 inches</span></span>
<span id="cb27-8"><a href="#cb27-8"></a><span class="co">#&gt; The variable HWTAGHT was recoded into HWTGHTM for the database cchs2001_p the following recodes were made:</span></span>
<span id="cb27-9"><a href="#cb27-9"></a><span class="co">#&gt;    value_to From rows_recoded</span></span>
<span id="cb27-10"><a href="#cb27-10"></a><span class="co">#&gt; 1     1.118    1            0</span></span>
<span id="cb27-11"><a href="#cb27-11"></a><span class="co">#&gt; 2     1.143    2            0</span></span>
<span id="cb27-12"><a href="#cb27-12"></a><span class="co">#&gt; 3     1.168    3            0</span></span>
<span id="cb27-13"><a href="#cb27-13"></a><span class="co">#&gt; 4     1.194    4            0</span></span>
<span id="cb27-14"><a href="#cb27-14"></a><span class="co">#&gt; 5     1.219    5            0</span></span>
<span id="cb27-15"><a href="#cb27-15"></a><span class="co">#&gt; 6     1.245    6            0</span></span>
<span id="cb27-16"><a href="#cb27-16"></a><span class="co">#&gt; 7     1.270    7            0</span></span>
<span id="cb27-17"><a href="#cb27-17"></a><span class="co">#&gt; 8     1.295    8            0</span></span>
<span id="cb27-18"><a href="#cb27-18"></a><span class="co">#&gt; 9     1.321    9            0</span></span>
<span id="cb27-19"><a href="#cb27-19"></a><span class="co">#&gt; 10    1.346   10            0</span></span>
<span id="cb27-20"><a href="#cb27-20"></a><span class="co">#&gt; 11    1.372   11            0</span></span>
<span id="cb27-21"><a href="#cb27-21"></a><span class="co">#&gt; 12    1.397   12            0</span></span>
<span id="cb27-22"><a href="#cb27-22"></a><span class="co">#&gt; 13    1.422   13            1</span></span>
<span id="cb27-23"><a href="#cb27-23"></a><span class="co">#&gt; 14    1.448   14            0</span></span>
<span id="cb27-24"><a href="#cb27-24"></a><span class="co">#&gt; 15    1.473   15            1</span></span>
<span id="cb27-25"><a href="#cb27-25"></a><span class="co">#&gt; 16    1.499   16            2</span></span>
<span id="cb27-26"><a href="#cb27-26"></a><span class="co">#&gt; 17    1.524   17            8</span></span>
<span id="cb27-27"><a href="#cb27-27"></a><span class="co">#&gt; 18    1.549   18            7</span></span>
<span id="cb27-28"><a href="#cb27-28"></a><span class="co">#&gt; 19    1.575   19           21</span></span>
<span id="cb27-29"><a href="#cb27-29"></a><span class="co">#&gt; 20    1.600   20           12</span></span>
<span id="cb27-30"><a href="#cb27-30"></a><span class="co">#&gt; 21    1.626   21           13</span></span>
<span id="cb27-31"><a href="#cb27-31"></a><span class="co">#&gt; 22    1.651   22           19</span></span>
<span id="cb27-32"><a href="#cb27-32"></a><span class="co">#&gt; 23    1.676   23           16</span></span>
<span id="cb27-33"><a href="#cb27-33"></a><span class="co">#&gt; 24    1.702   24           21</span></span>
<span id="cb27-34"><a href="#cb27-34"></a><span class="co">#&gt; 25    1.727   25           16</span></span>
<span id="cb27-35"><a href="#cb27-35"></a><span class="co">#&gt; 26    1.753   26           11</span></span>
<span id="cb27-36"><a href="#cb27-36"></a><span class="co">#&gt; 27    1.778   27           13</span></span>
<span id="cb27-37"><a href="#cb27-37"></a><span class="co">#&gt; 28    1.803   28           14</span></span>
<span id="cb27-38"><a href="#cb27-38"></a><span class="co">#&gt; 29    1.829   29           10</span></span>
<span id="cb27-39"><a href="#cb27-39"></a><span class="co">#&gt; 30    1.854   30            8</span></span>
<span id="cb27-40"><a href="#cb27-40"></a><span class="co">#&gt; 31     1.93   31            6</span></span>
<span id="cb27-41"><a href="#cb27-41"></a><span class="co">#&gt; 32    NA::a   96            0</span></span>
<span id="cb27-42"><a href="#cb27-42"></a><span class="co">#&gt; 33    NA::b   99            1</span></span>
<span id="cb27-43"><a href="#cb27-43"></a><span class="co">#&gt; The variable HWTAGWTK was recoded into HWTGWTK for the database cchs2001_p the following recodes were made:</span></span>
<span id="cb27-44"><a href="#cb27-44"></a><span class="co">#&gt;   value_to          From rows_recoded</span></span>
<span id="cb27-45"><a href="#cb27-45"></a><span class="co">#&gt; 1     copy    27.0:135.0          199</span></span>
<span id="cb27-46"><a href="#cb27-46"></a><span class="co">#&gt; 2    NA::a        999.96            0</span></span>
<span id="cb27-47"><a href="#cb27-47"></a><span class="co">#&gt; 3    NA::b 999.97:999.99            1</span></span>
<span id="cb27-48"><a href="#cb27-48"></a></span>
<span id="cb27-49"><a href="#cb27-49"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(bmi2001)</span>
<span id="cb27-50"><a href="#cb27-50"></a><span class="co">#&gt;   HWTGHTM HWTGWTK HWTGBMI_der  data_name</span></span>
<span id="cb27-51"><a href="#cb27-51"></a><span class="co">#&gt; 1   1.422   56.25    27.81784 cchs2001_p</span></span>
<span id="cb27-52"><a href="#cb27-52"></a><span class="co">#&gt; 2   1.549   51.75    21.56788 cchs2001_p</span></span>
<span id="cb27-53"><a href="#cb27-53"></a><span class="co">#&gt; 3   1.803   78.75    24.22474 cchs2001_p</span></span>
<span id="cb27-54"><a href="#cb27-54"></a><span class="co">#&gt; 4   1.575   60.75    24.48980 cchs2001_p</span></span>
<span id="cb27-55"><a href="#cb27-55"></a><span class="co">#&gt; 5   1.727   63.00    21.12301 cchs2001_p</span></span>
<span id="cb27-56"><a href="#cb27-56"></a><span class="co">#&gt; 6   1.829   91.80    27.44197 cchs2001_p</span></span>
<span id="cb27-57"><a href="#cb27-57"></a></span>
<span id="cb27-58"><a href="#cb27-58"></a>bmi2012 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rec_with_table.html">rec_with_table</a></span>(cchs2012_p, <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"HWTGHTM"</span>, <span class="st">"HWTGWTK"</span>, <span class="st">"HWTGBMI_der"</span>),</span>
<span id="cb27-59"><a href="#cb27-59"></a>  <span class="dt">log =</span> <span class="ot">TRUE</span>, <span class="dt">attach_data_name =</span> <span class="ot">TRUE</span></span>
<span id="cb27-60"><a href="#cb27-60"></a>)</span>
<span id="cb27-61"><a href="#cb27-61"></a><span class="co">#&gt; Loading cchsflow variable_details</span></span>
<span id="cb27-62"><a href="#cb27-62"></a><span class="co">#&gt; Using the passed data variable name as database_name</span></span>
<span id="cb27-63"><a href="#cb27-63"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co"> for HWTGHTM: Height is a reported in meters from 2005 CCHS onwards</span></span>
<span id="cb27-64"><a href="#cb27-64"></a><span class="co">#&gt; The variable HWTGHTM was recoded into HWTGHTM for the database cchs2012_p the following recodes were made:</span></span>
<span id="cb27-65"><a href="#cb27-65"></a><span class="co">#&gt;   value_to        From rows_recoded</span></span>
<span id="cb27-66"><a href="#cb27-66"></a><span class="co">#&gt; 1     copy 0.914:2.134          191</span></span>
<span id="cb27-67"><a href="#cb27-67"></a><span class="co">#&gt; 2    NA::a       9.996            2</span></span>
<span id="cb27-68"><a href="#cb27-68"></a><span class="co">#&gt; 3    NA::b 9.997:9.999            7</span></span>
<span id="cb27-69"><a href="#cb27-69"></a><span class="co">#&gt; The variable HWTGWTK was recoded into HWTGWTK for the database cchs2012_p the following recodes were made:</span></span>
<span id="cb27-70"><a href="#cb27-70"></a><span class="co">#&gt;   value_to          From rows_recoded</span></span>
<span id="cb27-71"><a href="#cb27-71"></a><span class="co">#&gt; 1     copy    27.0:135.0          189</span></span>
<span id="cb27-72"><a href="#cb27-72"></a><span class="co">#&gt; 2    NA::a        999.96            0</span></span>
<span id="cb27-73"><a href="#cb27-73"></a><span class="co">#&gt; 3    NA::b 999.97:999.99           11</span></span>
<span id="cb27-74"><a href="#cb27-74"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>(bmi2012)</span>
<span id="cb27-75"><a href="#cb27-75"></a><span class="co">#&gt;     HWTGHTM HWTGWTK HWTGBMI_der  data_name</span></span>
<span id="cb27-76"><a href="#cb27-76"></a><span class="co">#&gt; 195   1.829  108.00    32.28467 cchs2012_p</span></span>
<span id="cb27-77"><a href="#cb27-77"></a><span class="co">#&gt; 196   1.524   70.20    30.22506 cchs2012_p</span></span>
<span id="cb27-78"><a href="#cb27-78"></a><span class="co">#&gt; 197   1.803   84.00    25.83972 cchs2012_p</span></span>
<span id="cb27-79"><a href="#cb27-79"></a><span class="co">#&gt; 198   1.575   63.00    25.39683 cchs2012_p</span></span>
<span id="cb27-80"><a href="#cb27-80"></a><span class="co">#&gt; 199   1.829   85.50    25.55870 cchs2012_p</span></span>
<span id="cb27-81"><a href="#cb27-81"></a><span class="co">#&gt; 200   1.702   74.25    25.63170 cchs2012_p</span></span>
<span id="cb27-82"><a href="#cb27-82"></a></span>
<span id="cb27-83"><a href="#cb27-83"></a>combined_bmi &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(bmi2001, bmi2012)</span>
<span id="cb27-84"><a href="#cb27-84"></a></span>
<span id="cb27-85"><a href="#cb27-85"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(combined_bmi)</span>
<span id="cb27-86"><a href="#cb27-86"></a><span class="co">#&gt;   HWTGHTM HWTGWTK HWTGBMI_der  data_name</span></span>
<span id="cb27-87"><a href="#cb27-87"></a><span class="co">#&gt; 1   1.422   56.25    27.81784 cchs2001_p</span></span>
<span id="cb27-88"><a href="#cb27-88"></a><span class="co">#&gt; 2   1.549   51.75    21.56788 cchs2001_p</span></span>
<span id="cb27-89"><a href="#cb27-89"></a><span class="co">#&gt; 3   1.803   78.75    24.22474 cchs2001_p</span></span>
<span id="cb27-90"><a href="#cb27-90"></a><span class="co">#&gt; 4   1.575   60.75    24.48980 cchs2001_p</span></span>
<span id="cb27-91"><a href="#cb27-91"></a><span class="co">#&gt; 5   1.727   63.00    21.12301 cchs2001_p</span></span>
<span id="cb27-92"><a href="#cb27-92"></a><span class="co">#&gt; 6   1.829   91.80    27.44197 cchs2001_p</span></span>
<span id="cb27-93"><a href="#cb27-93"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>(combined_bmi)</span>
<span id="cb27-94"><a href="#cb27-94"></a><span class="co">#&gt;     HWTGHTM HWTGWTK HWTGBMI_der  data_name</span></span>
<span id="cb27-95"><a href="#cb27-95"></a><span class="co">#&gt; 395   1.829  108.00    32.28467 cchs2012_p</span></span>
<span id="cb27-96"><a href="#cb27-96"></a><span class="co">#&gt; 396   1.524   70.20    30.22506 cchs2012_p</span></span>
<span id="cb27-97"><a href="#cb27-97"></a><span class="co">#&gt; 397   1.803   84.00    25.83972 cchs2012_p</span></span>
<span id="cb27-98"><a href="#cb27-98"></a><span class="co">#&gt; 398   1.575   63.00    25.39683 cchs2012_p</span></span>
<span id="cb27-99"><a href="#cb27-99"></a><span class="co">#&gt; 399   1.829   85.50    25.55870 cchs2012_p</span></span>
<span id="cb27-100"><a href="#cb27-100"></a><span class="co">#&gt; 400   1.702   74.25    25.63170 cchs2012_p</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#transform-variables-into-harmonized-versions">Transform variables into harmonized versions</a>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#example-1--transform-a-single-variable-from-a-single-database">Example 1. Transform a single variable from a single database</a></li>
      <li><a href="#which-variables-are-transformed-how-good-is-the-transformation">Which variables are transformed? How “good” is the transformation?</a></li>
      <li><a href="#example2">Example 2. Variable transformation with a note</a></li>
      <li><a href="#example-3--transform-a-single-variable-from-multiple-cchs-datasets">Example 3. Transform a single variable from multiple CCHS datasets</a></li>
      <li><a href="#example4">Example 4. Transform a single variable from multiple databases that changes categories between cycles.</a></li>
      <li><a href="#example-5--transform-multiple-variables-from-multiple-datasets">Example 5. Transform multiple variables from multiple datasets</a></li>
      <li><a href="#example6">Example 6. Transform all variables in the variable_details sheet</a></li>
      <li><a href="#example7">Example 7. Transform CCHS derived variables such as Body Mass Index (BMI)</a></li>
      <li><a href="#example-8-distinguishing-which-cycle-data-is-from-in-combined-datasets">Example 8: Distinguishing which cycle data is from in combined datasets</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Doug Manuel, Warsame Yusuf, Rostyslav Vyuha, Carol Bennett.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'a674c1edc7b44c4ee995ef4227708c57',
    indexName: 'cchsflow',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
