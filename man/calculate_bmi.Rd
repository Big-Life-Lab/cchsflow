% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bmi.R, R/deprecated-aliases.R
\name{calculate_bmi}
\alias{calculate_bmi}
\alias{bmi_fun}
\title{Calculate Body Mass Index (BMI) with comprehensive validation}
\usage{
calculate_bmi(
  HWTGHTM,
  HWTGWTK,
  min_HWTGHTM = BMI_VALIDATION_BOUNDS$height$min,
  max_HWTGHTM = BMI_VALIDATION_BOUNDS$height$max,
  min_HWTGWTK = BMI_VALIDATION_BOUNDS$weight$min,
  max_HWTGWTK = BMI_VALIDATION_BOUNDS$weight$max,
  BMI_min = BMI_VALIDATION_BOUNDS$bmi$min,
  BMI_max = BMI_VALIDATION_BOUNDS$bmi$max,
  validate_params = NULL
)

bmi_fun(...)
}
\arguments{
\item{HWTGHTM}{CCHS variable for height (in meters). Accepts raw CCHS codes or preprocessed values.}

\item{HWTGWTK}{CCHS variable for weight (in kilograms). Accepts raw CCHS codes or preprocessed values.}

\item{min_HWTGHTM}{Minimum valid height in meters (default 0.82)}

\item{max_HWTGHTM}{Maximum valid height in meters (default 2.50)}

\item{min_HWTGWTK}{Minimum valid weight in kilograms (default 22.7)}

\item{max_HWTGWTK}{Maximum valid weight in kilograms (default 209.1)}

\item{BMI_min}{Minimum valid BMI (default 10)}

\item{BMI_max}{Maximum valid BMI (default 100)}

\item{validate_params}{Auto-detect validation mode (default NULL for auto-detection)}
}
\value{
Numeric vector of BMI values. Missing data handled as:
  \itemize{
    \item \code{haven::tagged_na("a")} for not applicable cases (age restrictions)
    \item \code{haven::tagged_na("b")} for missing/invalid measurements
  }
  Valid range typically 10-100 for realistic measurements.
}
\description{
Calculate harmonized BMI across CCHS cycles using the standard formula BMI = weight(kg) / height(m)^2.
Includes comprehensive validation, outlier detection, and missing data preprocessing following WHO guidelines.
}
\details{
This function uses harmonized height/weight variables and may produce different results 
than original CCHS derived BMI variables which had cycle-specific validation rules.
Enhanced validation bounds are optimized for master file data and may be more restrictive 
than PUMF versions.

Calculation method: BMI = weight(kg) / height(m)^2. Original CCHS codes (6,7,8,9) are 
automatically converted to haven::tagged_na(). Validation bounds: Height [0.82-2.50m], 
Weight [22.7-209.1kg], BMI [10-100]. Extreme values are marked as haven::tagged_na("b").
}
\note{
v3.0.0, last updated: 2025-06-30, status: active, Note: Enhanced with comprehensive preprocessing and validation following development guide
}
\examples{
# Standard cchsflow workflow (primary usage)
library(cchsflow)
result <- rec_with_table(cchs2013_2014_p, 
                        c("HWTGHTM", "HWTGWTK", "HWTGBMI_der"))

# Basic usage
calculate_bmi(1.75, 70)

# Vector processing with missing data
calculate_bmi(c(1.75, 1.80, 6), c(70, 75, 7))

# Research mode with custom validation
calculate_bmi(1.75, 70, min_HWTGHTM = 1.0, max_HWTGHTM = 2.0)

}
\references{
World Health Organization. (2000). Obesity: preventing and managing the global epidemic. 
Report of a WHO consultation. World Health Organization technical report series, 894, i-xii.

Connor Gorber, S., et al. (2008). The accuracy of self-reported height and weight 
in a nationally representative sample of Canadian adults. Obesity, 16(10), 2326-2332.
}
\seealso{
\code{\link{adjust_bmi}} for bias-corrected BMI calculations
\code{\link{categorize_bmi}} for BMI category classification
}
