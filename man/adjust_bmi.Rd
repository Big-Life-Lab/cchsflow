% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bmi.R, R/deprecated-aliases.R
\name{adjust_bmi}
\alias{adjust_bmi}
\alias{adjusted_bmi_fun}
\title{Calculate bias-corrected BMI for self-reported data}
\usage{
adjust_bmi(
  DHH_SEX,
  HWTGHTM,
  HWTGWTK,
  min_HWTGHTM = BMI_VALIDATION_BOUNDS$height$min,
  max_HWTGHTM = BMI_VALIDATION_BOUNDS$height$max,
  min_HWTGWTK = BMI_VALIDATION_BOUNDS$weight$min,
  max_HWTGWTK = BMI_VALIDATION_BOUNDS$weight$max,
  BMI_min = BMI_VALIDATION_BOUNDS$bmi$min,
  BMI_max = BMI_VALIDATION_BOUNDS$bmi$max,
  validate_params = NULL
)

adjusted_bmi_fun(...)
}
\arguments{
\item{DHH_SEX}{CCHS variable for sex (1=male, 2=female). Accepts raw CCHS codes or preprocessed values.}

\item{HWTGHTM}{CCHS variable for height (in meters). Accepts raw CCHS codes or preprocessed values.}

\item{HWTGWTK}{CCHS variable for weight (in kilograms). Accepts raw CCHS codes or preprocessed values.}

\item{min_HWTGHTM, max_HWTGHTM, min_HWTGWTK, max_HWTGWTK, BMI_min, BMI_max}{Validation parameters}

\item{validate_params}{Auto-detect validation mode (default NULL for auto-detection)}
}
\value{
Numeric vector of bias-corrected BMI values. Missing data handled as:
  \itemize{
    \item \code{haven::tagged_na("a")} for not applicable cases
    \item \code{haven::tagged_na("b")} for missing sex or invalid measurements
  }
  Valid range typically 10-100 for corrected measurements.
}
\description{
Calculate bias-corrected BMI accounting for self-reporting errors in height and weight measurements.
Applies sex-specific correction coefficients from Connor Gorber et al. 2008 for more accurate 
BMI estimates in population health research using self-reported data.
}
\details{
Correction coefficients are based on Canadian data and may not be appropriate for other populations.
Enhanced validation may produce different results than legacy adjusted BMI functions.

Calculation formulas: Males: Adjusted BMI = -1.07575 + 1.07592 × Raw BMI; 
Females: Adjusted BMI = -0.12374 + 1.05129 × Raw BMI. Original CCHS codes (6,7,8,9) are 
comprehensively preprocessed. Validation uses same bounds as basic BMI with post-correction validation.
}
\note{
v3.0.0, last updated: 2025-06-30, status: active, Note: Enhanced with comprehensive preprocessing and sex-specific bias correction
}
\examples{
# Standard cchsflow workflow (primary usage)
library(cchsflow)
result <- rec_with_table(cchs2013_2014_p, 
                        c("DHH_SEX", "HWTGHTM", "HWTGWTK", "HWTGBMI_adjusted_der"))

# Basic usage
adjust_bmi(1, 1.75, 70)  # Male
adjust_bmi(2, 1.65, 60)  # Female

# Vector processing with missing data
adjust_bmi(c(1, 2, 6), c(1.75, 1.65, 1.80), c(70, 60, 7))

}
\references{
Connor Gorber, S., et al. (2008). The accuracy of self-reported height and weight 
in a nationally representative sample of Canadian adults. Obesity, 16(10), 2326-2332.
}
