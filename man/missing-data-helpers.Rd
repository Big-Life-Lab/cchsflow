% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/missing-data-helpers.R
\name{missing-data-helpers}
\alias{missing-data-helpers}
\alias{preprocess_cchs_missing_codes}
\title{CCHS Missing Data Preprocessing Helpers}
\usage{
preprocess_cchs_missing_codes(
  input_var,
  pattern_type = "standard_response",
  preserve_numeric = TRUE
)
}
\arguments{
\item{input_var}{Vector with potential original CCHS codes, string NA values,
or haven::tagged_na() values}

\item{pattern_type}{Character string specifying CCHS missing code pattern:
- "standard_response": codes 6,7,8,9 (default)
- "categorical_age": codes 96,97,98,99  
- "continuous_standard": codes 996,997,998,999}

\item{preserve_numeric}{Logical. If TRUE, valid numeric values are preserved 
as numeric. If FALSE, all values are converted through the preprocessing.
Default TRUE.}
}
\value{
Vector with original CCHS codes converted to haven::tagged_na(),
  preserving existing NA values and valid responses
}
\description{
Universal helper functions for preprocessing original CCHS missing data codes
and converting them to standardized haven::tagged_na() format. Based on the
comprehensive CCHS missing data specification in 
inst/metadata/schemas/cchs/cchs_missing_data.yaml
}
\details{
**Transformation Rules (based on CCHS specification):**

**Standard Response Variables (SMK_005, SMK_030, SMK_01A):**
- 6 → haven::tagged_na("a") - Not applicable
- 7 → haven::tagged_na("b") - Don't know  
- 8 → haven::tagged_na("b") - Refusal
- 9 → haven::tagged_na("b") - Not stated

**Categorical Age Variables (SMKG203, SMKG207):**
- 96 → haven::tagged_na("a") - Not applicable
- 97 → haven::tagged_na("b") - Don't know
- 98 → haven::tagged_na("b") - Refusal  
- 99 → haven::tagged_na("b") - Not stated

**Continuous Variables (SMK_204, HWTDGWTK, etc.):**
- 996 → haven::tagged_na("a") - Not applicable
- 997 → haven::tagged_na("b") - Don't know
- 998 → haven::tagged_na("b") - Refusal
- 999 → haven::tagged_na("b") - Not stated

**Existing NA Handling:**
- "NA(a)" → haven::tagged_na("a") - String-based NA(a)
- "NA(b)" → haven::tagged_na("b") - String-based NA(b)  
- haven::tagged_na("a") → preserved as-is
- haven::tagged_na("b") → preserved as-is
}
\examples{
# Standard response pattern (SMK_005, SMK_030, SMK_01A)
smk_data <- c(1, 2, 3, 6, 7, 8, 9, "NA(a)", NA)
preprocess_cchs_missing_codes(smk_data, "standard_response")

# Categorical age pattern (SMKG203, SMKG207)  
age_data <- c(1, 5, 8, 96, 97, 98, 99, "NA(b)")
preprocess_cchs_missing_codes(age_data, "categorical_age")

# Continuous pattern (SMK_204, HWTDGWTK)
cont_data <- c(15, 25, 996, 997, 998, 999)
preprocess_cchs_missing_codes(cont_data, "continuous_standard")

}
\seealso{
- [preprocess_standard_response()] for SMK_005-type variables
- [preprocess_categorical_age()] for SMKG203-type variables  
- [preprocess_continuous_standard()] for SMK_204-type variables
- inst/metadata/schemas/cchs/cchs_missing_data.yaml for complete specification
}
\keyword{(6,7,8,9}
\keyword{CCHS}
\keyword{NA}
\keyword{Preprocess}
\keyword{Supports}
\keyword{Universal}
\keyword{all}
\keyword{and}
\keyword{codes}
\keyword{converts}
\keyword{data}
\keyword{existing}
\keyword{extended}
\keyword{format.}
\keyword{function}
\keyword{handles}
\keyword{haven}
\keyword{haven::tagged_na}
\keyword{haven::tagged_na()}
\keyword{internal}
\keyword{missing}
\keyword{original}
\keyword{patterns}
\keyword{preprocessing}
\keyword{preserving}
\keyword{standardized}
\keyword{string}
\keyword{that}
\keyword{them}
\keyword{to}
\keyword{values.}
\keyword{variable}
\keyword{variants)}
\keyword{while}
